- opts = { |
    type: (defined? upload_type) ? (upload_type) : (nil),  |
    name: 'files[]', |
    id: 'filess',   |
    action: url_for(action: 'upload'), |
    label: t('.label'), |
  }.merge(opts ? (opts) : ({}))

%div.container-fluid{data: { upload: 'form', action: "#{opts[:action]}", type: opts[:type] } }
  
  %div.row
    %div.col-md-4
      %div.row.btn.btn-default.fileinput-button
        %i.glyphicon.glyphicon-plus
        %span{ for: "#{opts[:id]}" }= t('.button')
        %input{ id: "#{opts[:id]}", multiple: "multiple", name: "#{opts[:name]}", type: "file"}
    %div.col-md-8
      = opts[:label]
      
  %div.row
    %div.progress.progress-striped.active{"aria-valuemax" => "100", "aria-valuemin" => "0", role: "progressbar"}
      %span.progress-bar.progress-bar-default{style: "width:0%;"}

  %div.row.collapse{ data: { upload: 'status' } }
    %table.table.table-striped
      %tbody.files
    %div.col-md-3.btn.btn-default{ data: { upload: 'clean-status' }}
      = t('.clean_status')
  
= render :partial => 'concerns/uploads/templates'
