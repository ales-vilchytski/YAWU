- opts = { |
    type: (defined?(upload_type)) ? (upload_type) : (nil),  |
    name: 'file', |
  }.merge(opts ? (opts) : ({}))

%select{ name: "#{opts[:name]}", data: { upload: 'list', type: opts[:type] } }
  - ((defined?(files)) ? (files) : (@files)).each do |file|
    %option{ value: "#{file.id}" }= file.uploaded_file_name
